(function(e){function t(t){for(var r,i,n=t[0],s=t[1],c=t[2],p=0,u=[];p<n.length;p++)i=n[p],Object.prototype.hasOwnProperty.call(l,i)&&l[i]&&u.push(l[i][0]),l[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);d&&d(t);while(u.length)u.shift()();return a.push.apply(a,c||[]),o()}function o(){for(var e,t=0;t<a.length;t++){for(var o=a[t],r=!0,n=1;n<o.length;n++){var s=o[n];0!==l[s]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=o[0]))}return e}var r={},l={app:0},a=[];function i(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=r,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(o,r,function(t){return e[t]}.bind(null,r));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],s=n.push.bind(n);n.push=t,n=n.slice();for(var c=0;c<n.length;c++)t(n[c]);var d=s;a.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"11ac":function(e,t,o){"use strict";o("ce2e")},"125e":function(e,t,o){"use strict";o("4ebf")},"14ab":function(e,t,o){"use strict";o("d97c")},"357a":function(e,t,o){"use strict";o("8cf8")},4678:function(e,t,o){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function l(e){var t=a(e);return o(t)}function a(e){if(!o.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}l.keys=function(){return Object.keys(r)},l.resolve=a,e.exports=l,l.id="4678"},"4e0f":function(e,t,o){"use strict";o("61a4")},"4ebf":function(e,t,o){},"55ac":function(e,t,o){"use strict";o("c4d4")},"56d7":function(e,t,o){"use strict";o.r(t);o("14d9");var r=o("7a23"),l=o("c3a1");o("7437");const a={class:"pmbn-app-container",ref:"appContainer"};function i(e,t,o,l,i,n){const s=Object(r["resolveComponent"])("viewer"),c=Object(r["resolveComponent"])("el-switch"),d=Object(r["resolveComponent"])("el-form-item"),p=Object(r["resolveComponent"])("editor"),u=Object(r["resolveComponent"])("info");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",a,[e.$store.getters["svgLoaded"]?(Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:0,viewportDimensions:n.viewportDimensions},null,8,["viewportDimensions"])):Object(r["createCommentVNode"])("",!0),Object(r["createElementVNode"])("div",{class:Object(r["normalizeClass"])(["pmbn-app-info-container",{"-full":!e.$store.getters["svgLoaded"],"-responsive":n.infoWidth<=800}]),style:Object(r["normalizeStyle"])({width:n.infoWidth+"px","min-width":n.infoWidth+"px","max-width":n.infoWidth+"px"})},["view"!==e.$store.getters["mode"]&&e.$store.getters["svgLoaded"]?(Object(r["openBlock"])(),Object(r["createBlock"])(d,{key:0,label:e.$i18n("Preview"),class:"pmbn-preview-toggle"},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(c,{modelValue:i.preview,"onUpdate:modelValue":t[0]||(t[0]=e=>i.preview=e),class:"ml-2","inline-prompt":"","active-text":e.$i18n("On"),"inactive-text":e.$i18n("Off")},null,8,["modelValue","active-text","inactive-text"])]),_:1},8,["label"])):Object(r["createCommentVNode"])("",!0),"editor"===e.$store.getters["mode"]?(Object(r["openBlock"])(),Object(r["createBlock"])(p,{key:1})):(Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:2}))],6)],512)}const n=["viewBox"],s=["innerHTML"];function c(e,t,o,l,a,i){const c=Object(r["resolveComponent"])("floor");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{class:"pmbn-viewer-container",style:Object(r["normalizeStyle"])({width:o.viewportDimensions[0]+"px",height:o.viewportDimensions[1]+"px","max-width":o.viewportDimensions[0]+"px","max-height":o.viewportDimensions[1]+"px","min-width":o.viewportDimensions[0]+"px","min-height":o.viewportDimensions[1]+"px"})},[e.$store.getters["floors"].length>0?(Object(r["openBlock"])(),Object(r["createElementBlock"])("svg",{key:0,viewBox:i.viewbox,width:"100%",height:"100%",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve",style:Object(r["normalizeStyle"])(i.cssVariables)},[Object(r["createElementVNode"])("template",{innerHTML:e.$store.getters["additionalSVG"]},null,8,s),(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(e.$store.getters["floors"],(e,t)=>(Object(r["openBlock"])(),Object(r["createBlock"])(c,{index:t,key:t},null,8,["index"]))),128)),(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(e.$store.getters["floors"],(e,t)=>(Object(r["openBlock"])(),Object(r["createBlock"])(c,{index:t,key:t},null,8,["index"]))),128))],12,n)):Object(r["createCommentVNode"])("",!0)],4)}function d(e,t,o,l,a,i){const n=Object(r["resolveComponent"])("group");return Object(r["openBlock"])(),Object(r["createElementBlock"])("g",{class:Object(r["normalizeClass"])(["pmbn-floor",{"-opened":e.$store.getters["isOpenedFloor"](o.index),"-passive":i.floor.passive}]),onMouseenter:t[0]||(t[0]=(...e)=>i.mouseEnter&&i.mouseEnter(...e))},[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(i.floor.groups,(e,t)=>(Object(r["openBlock"])(),Object(r["createBlock"])(n,{index:t,floor:o.index,key:t},null,8,["index","floor"]))),128))],34)}const p=["innerHTML"];function u(e,t,o,l,a,i){return Object(r["openBlock"])(),Object(r["createElementBlock"])("g",{class:Object(r["normalizeClass"])(["pmbn-group",{"-selected":i.isSelected,"-highlighted":i.isHighlighted,"-hoverable":i.isHoverable}]),innerHTML:i.group.svg,onClick:t[0]||(t[0]=(...e)=>i.selectGroup&&i.selectGroup(...e)),onMouseenter:t[1]||(t[1]=(...e)=>i.highlightGroup&&i.highlightGroup(...e))},null,42,p)}var b={name:"Group",components:{},props:["floor","index"],mounted(){},computed:{group(){return this.$store.getters["group"](this.floor,this.index)},floorObj(){return this.$store.getters["floor"](this.floor)},isSelected(){return"editor"===this.$store.state.mode&&this.$store.state.editor.selectedGroup&&this.$store.state.editor.selectedGroup.floor===this.floor&&this.$store.state.editor.selectedGroup.group===this.index},isHighlighted(){return"editor"!==this.$store.state.mode&&this.$store.state.editor.selectedGroup&&this.$store.state.editor.selectedGroup.floor===this.floor&&this.$store.state.editor.selectedGroup.group===this.index},isHoverable(){return"editor"===this.$store.state.mode||this.group.isApartment}},methods:{selectGroup(){this.floorObj.passive||"editor"!==this.$store.state.mode||(this.$store.dispatch("selectGroup",{floor:this.floor,group:this.index}),this.$store.dispatch("setActiveTab","apartment"))},highlightGroup(){!this.floorObj.passive&&"editor"!==this.$store.state.mode&&this.group.isApartment&&this.$store.dispatch("selectGroup",{floor:this.floor,group:this.index})}}},m=(o("cc5d"),o("6b0d")),f=o.n(m);const g=f()(b,[["render",u],["__scopeId","data-v-7c6991ce"]]);var j=g,O={name:"Floor",components:{group:j},props:["index"],mounted(){},computed:{floor(){return this.$store.getters["floor"](this.index)}},methods:{mouseEnter(){this.$store.dispatch("setActiveFloor",this.index)}}};o("4e0f");const h=f()(O,[["render",d],["__scopeId","data-v-43f31995"]]);var v=h,V={name:"Viewer",components:{floor:v},props:["viewportDimensions"],computed:{viewbox(){let e=[...this.$store.getters["viewbox"]];return e[3]=parseInt(e[3])+this.$store.getters["levelSpacing"]+this.$store.getters["spaceAbove"],e.join(" ")},cssVariables(){return{"--pmbn-level-above":this.$store.getters["spaceAbove"]+"px","--pmbn-level-spacing":this.$store.getters["levelSpacing"]+this.$store.getters["spaceAbove"]+"px"}}},mounted(){}};o("c249");const y=f()(V,[["render",c],["__scopeId","data-v-6493c634"]]);var k=y;const $={class:"pmbn-editor-container"};function x(e,t,o,l,a,i){const n=Object(r["resolveComponent"])("general-settings"),s=Object(r["resolveComponent"])("el-tab-pane"),c=Object(r["resolveComponent"])("floor-settings"),d=Object(r["resolveComponent"])("group-settings"),p=Object(r["resolveComponent"])("el-tabs");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",$,[Object(r["createVNode"])(p,{modelValue:e.$store.state.editor.activeTab,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$store.state.editor.activeTab=t),class:"demo-tabs"},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(s,{label:e.$i18n("General","settings"),name:"general"},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(n)]),_:1},8,["label"]),e.$store.getters["activeFloor"]?(Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:0,label:e.$i18n("Floor"),name:"floor"},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(c)]),_:1},8,["label"])):Object(r["createCommentVNode"])("",!0),e.$store.getters["selectedGroup"]?(Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:1,label:e.$i18n("Apartment"),name:"apartment"},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(d)]),_:1},8,["label"])):Object(r["createCommentVNode"])("",!0)]),_:1},8,["modelValue"])])}const C={class:"el-upload__tip"},w={key:0,class:"pmbn-apartment-sort-handle"},_={class:"el-upload__tip"};function N(e,t,o,l,a,i){const n=Object(r["resolveComponent"])("el-slider"),s=Object(r["resolveComponent"])("el-form-item"),c=Object(r["resolveComponent"])("el-input-number"),d=Object(r["resolveComponent"])("el-color-picker"),p=Object(r["resolveComponent"])("el-button"),u=Object(r["resolveComponent"])("el-upload"),b=Object(r["resolveComponent"])("el-collapse-item"),m=Object(r["resolveComponent"])("el-input"),f=Object(r["resolveComponent"])("Grid"),g=Object(r["resolveComponent"])("el-icon"),j=Object(r["resolveComponent"])("el-tooltip"),O=Object(r["resolveComponent"])("Tickets"),h=Object(r["resolveComponent"])("Operation"),v=Object(r["resolveComponent"])("draggable"),V=Object(r["resolveComponent"])("el-collapse");return e.$store.getters["svgLoaded"]?(Object(r["openBlock"])(),Object(r["createBlock"])(V,{key:0,modelValue:e.$store.state.editor.activeGeneralAccordion,"onUpdate:modelValue":t[12]||(t[12]=t=>e.$store.state.editor.activeGeneralAccordion=t),accordion:""},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(b,{title:e.$i18n("Graphic"),name:"graphic"},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(s,{label:e.$i18n("Level spacing")},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(n,{modelValue:e.$store.state.building.levelSpacing,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$store.state.building.levelSpacing=t),max:e.levelSpacingMax,onChange:i.levelSpacingChanged},null,8,["modelValue","max","onChange"])]),_:1},8,["label"]),Object(r["createVNode"])(s,{label:e.$i18n("Space above")},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(c,{modelValue:e.$store.state.building.spaceAbove,"onUpdate:modelValue":t[1]||(t[1]=t=>e.$store.state.building.spaceAbove=t),step:1},null,8,["modelValue"])]),_:1},8,["label"]),Object(r["createVNode"])(s,{label:e.$i18n("Main color")},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(d,{modelValue:e.$store.state.building.mainColor,"onUpdate:modelValue":t[2]||(t[2]=t=>e.$store.state.building.mainColor=t)},null,8,["modelValue"])]),_:1},8,["label"]),Object(r["createVNode"])(s,{label:e.$i18n("Sold status row opacity")},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(n,{modelValue:e.$store.state.info.soldStatusRowOpacity,"onUpdate:modelValue":t[3]||(t[3]=t=>e.$store.state.info.soldStatusRowOpacity=t)},null,8,["modelValue"])]),_:1},8,["label"]),Object(r["createVNode"])(s,{label:e.$i18n("Change SVG")},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(u,{ref:"changeSVG",action:"",limit:1,"before-upload":i.handleBeforeUpload,"on-success":i.handleSuccess,accept:".svg"},{trigger:Object(r["withCtx"])(()=>[Object(r["createVNode"])(p,{type:"primary"},{default:Object(r["withCtx"])(()=>[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.$i18n("select file")),1)]),_:1})]),tip:Object(r["withCtx"])(()=>[Object(r["createElementVNode"])("div",C,Object(r["toDisplayString"])(e.$i18n("Svg files with groups on the top level representing the floors and groups in the floors representing the apartments.")),1)]),_:1},8,["before-upload","on-success"])]),_:1},8,["label"])]),_:1},8,["title"]),Object(r["createVNode"])(b,{title:e.$i18n("Apartments"),name:"apartments"},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(s,{label:e.$i18n("Currency")},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(m,{modelValue:e.$store.state.info.currency,"onUpdate:modelValue":t[4]||(t[4]=t=>e.$store.state.info.currency=t)},null,8,["modelValue"])]),_:1},8,["label"]),Object(r["createVNode"])(s,{label:e.$i18n("Rent price period")},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(m,{modelValue:e.$store.state.info.rentPricePeriod,"onUpdate:modelValue":t[5]||(t[5]=t=>e.$store.state.info.rentPricePeriod=t)},null,8,["modelValue"])]),_:1},8,["label"]),Object(r["createVNode"])(v,Object(r["mergeProps"])({"component-data":{type:"transition-group",name:e.dragGroupField?null:"flip-list"},modelValue:e.fieldOrder,"onUpdate:modelValue":t[6]||(t[6]=t=>e.fieldOrder=t)},i.dragOptions,{onStart:t[7]||(t[7]=t=>e.dragGroupField=!0),onEnd:t[8]||(t[8]=t=>e.dragGroupField=!1),"item-key":"order",handle:".el-form-item__label",class:"pmbn-group-fields-draggable"}),{item:Object(r["withCtx"])(({element:t})=>[Object(r["createVNode"])(s,{class:"pmbn-group-fields-item",label:e.$store.getters["groupFieldNames"][t.field]?e.$store.getters["groupFieldNames"][t.field]:t.field},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(j,{effect:"dark",content:e.$i18n("Display in table column"),placement:"top","hide-after":0},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(p,{type:e.$store.getters["infoTableColumns"].includes(t.field)?"success":"default",circle:"",onClick:o=>e.$store.dispatch("toggleInfoTableColumn",t.field)},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(g,null,{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(f)]),_:1})]),_:2},1032,["type","onClick"])]),_:2},1032,["content"]),Object(r["createVNode"])(j,{effect:"dark",content:e.$i18n("Display apartment details"),placement:"top","hide-after":0},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(p,{type:e.$store.getters["infoDetailsFields"].includes(t.field)?"success":"default",circle:"",onClick:o=>e.$store.dispatch("toggleInfoDetailsField",t.field)},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(g,null,{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(O)]),_:1})]),_:2},1032,["type","onClick"])]),_:2},1032,["content"]),["registration_url","factsheet","images","blueprints"].includes(t.field)?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])(j,{key:0,effect:"dark",content:e.$i18n("Display as filter option"),placement:"top","hide-after":0},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(p,{type:e.$store.getters["infoFilterFields"].includes(t.field)?"success":"default",circle:"",onClick:o=>e.$store.dispatch("toggleInfoFilterField",t.field)},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(g,null,{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(h)]),_:1})]),_:2},1032,["type","onClick"])]),_:2},1032,["content"])),Object(r["createVNode"])(m,{modelValue:e.$store.state.info.groupFieldNames[t.field],"onUpdate:modelValue":o=>e.$store.state.info.groupFieldNames[t.field]=o,class:"group-field-name",placeholder:e.$store.getters["groupFieldNames"][t.field]},null,8,["modelValue","onUpdate:modelValue","placeholder"]),Object(r["createVNode"])(m,{modelValue:e.$store.state.info.groupFieldValueOverrides[t.field],"onUpdate:modelValue":o=>e.$store.state.info.groupFieldValueOverrides[t.field]=o,class:"group-field-value-override",placeholder:e.$i18n("Value override")},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["label"])]),_:1},16,["component-data","modelValue"])]),_:1},8,["title"]),Object(r["createVNode"])(b,{title:e.$i18n("Apartments order"),name:"apartments_order"},{default:Object(r["withCtx"])(()=>[Object(r["createTextVNode"])(Object(r["toDisplayString"])()+" ",1),Object(r["createVNode"])(v,Object(r["mergeProps"])({"component-data":{type:"transition-group",name:e.dragApartment?null:"flip-list"},modelValue:e.apartmentOrder,"onUpdate:modelValue":t[9]||(t[9]=t=>e.apartmentOrder=t)},i.dragOptions,{onStart:t[10]||(t[10]=t=>e.dragApartment=!0),onEnd:t[11]||(t[11]=t=>e.dragApartment=!1),"item-key":"order",handle:".pmbn-apartment-sort-handle",class:"pmbn-apartment-sort-draggable"}),{item:Object(r["withCtx"])(({element:t})=>[e.$store.getters["apartmentById"](t.apartmentId)?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",w,Object(r["toDisplayString"])(e.$store.getters["apartmentById"](t.apartmentId).name),1)):Object(r["createCommentVNode"])("",!0)]),_:1},16,["component-data","modelValue"])]),_:1},8,["title"])]),_:1},8,["modelValue"])):(Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:1,label:e.$i18n("Load SVG")},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(u,{ref:"loadSVG",action:"",limit:1,"before-upload":i.handleBeforeUpload,"on-success":i.handleSuccess,accept:".svg"},{trigger:Object(r["withCtx"])(()=>[Object(r["createVNode"])(p,{type:"primary"},{default:Object(r["withCtx"])(()=>[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.$i18n("select file")),1)]),_:1})]),tip:Object(r["withCtx"])(()=>[Object(r["createElementVNode"])("div",_,Object(r["toDisplayString"])(e.$i18n("Svg files with groups on the top level representing the floors and groups in the floors representing the apartments.")),1)]),_:1},8,["before-upload","on-success"])]),_:1},8,["label"]))}var F=o("2ef0"),B=o.n(F),S=o("f6f2"),E=o("b76a"),D=o.n(E),M={name:"Editor",components:{draggable:D.a,Grid:S["j"],Tickets:S["o"],Operation:S["l"]},data:function(){return{svgInput:null,levelSpacingMax:2*this.$store.getters["levelSpacing"],dragGroupField:!1,loadSortedGroupFields:!1,fieldOrder:this.$store.getters["fieldOrder"].map((e,t)=>({field:e,order:t+1})),dragApartment:!1,loadSortedApartments:!1,apartmentOrder:this.$store.getters["apartmentOrder"].map((e,t)=>({apartmentId:e,order:t+1}))}},computed:{dragOptions(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}}},methods:{levelSpacingChanged(){this.levelSpacingMax=2*this.$store.getters["levelSpacing"]},handleBeforeUpload(e){const t="image/svg+xml"===e.type;return t||this.$message.error(this.$i18n("Only SVG files are allowed.")),t},handleSuccess(e,t){const o=new FileReader;o.onload=()=>{var e;const t=o.result;this.$store.dispatch("loadSVG",t),null===(e=this.$refs.changeSVG)||void 0===e||e.clearFiles()},o.readAsText(t.raw)}},watch:{fieldOrder:{handler(){this.loadSortedGroupFields||this.$store.dispatch("setFieldOrder",B.a.map(this.fieldOrder,"field"))},deep:!1},"$store.state.info.fieldOrder":{handler(){this.loadSortedGroupFields=!0,this.fieldOrder=this.$store.getters["fieldOrder"].map((e,t)=>({field:e,order:t+1})),this.$nextTick(()=>{this.loadSortedGroupFields=!1})},deep:!1},apartmentOrder:{handler(){this.loadSortedApartments||this.$store.dispatch("setApartmentOrder",B.a.map(this.apartmentOrder,"apartmentId"))},deep:!1},"$store.state.loaded":{handler(e){e&&(this.levelSpacingMax=2*this.$store.getters["levelSpacing"])}}},mounted(){this.levelSpacingMax=2*this.$store.getters["levelSpacing"]},created(){this.$store.watch(()=>this.$store.getters.apartmentOrder,()=>{this.loadSortedApartments=!0,this.apartmentOrder=this.$store.getters["apartmentOrder"].map((e,t)=>({apartmentId:e,order:t+1})),this.$nextTick(()=>{this.loadSortedApartments=!1})})}};o("14ab"),o("11ac");const T=f()(M,[["render",N],["__scopeId","data-v-47a4f451"]]);var A=T;const I={class:"floor-nav"};function G(e,t,o,l,a,i){const n=Object(r["resolveComponent"])("ArrowLeft"),s=Object(r["resolveComponent"])("el-icon"),c=Object(r["resolveComponent"])("el-button"),d=Object(r["resolveComponent"])("ArrowRight"),p=Object(r["resolveComponent"])("el-button-group"),u=Object(r["resolveComponent"])("el-switch"),b=Object(r["resolveComponent"])("el-form-item"),m=Object(r["resolveComponent"])("el-input");return Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,[Object(r["createElementVNode"])("div",I,[Object(r["createVNode"])(p,null,{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(c,{disabled:0===e.$store.state.editor.activeFloor,onClick:t[0]||(t[0]=t=>e.$store.dispatch("setActiveFloor",e.$store.state.editor.activeFloor-1))},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(s,{class:"el-icon--left"},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(n)]),_:1}),Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.$i18n("Previous Floor")),1)]),_:1},8,["disabled"]),Object(r["createVNode"])(c,{disabled:e.$store.state.editor.activeFloor>=e.$store.state.building.floors.length-1,onClick:t[1]||(t[1]=t=>e.$store.dispatch("setActiveFloor",e.$store.state.editor.activeFloor+1))},{default:Object(r["withCtx"])(()=>[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.$i18n("Next Floor")),1),Object(r["createVNode"])(s,{class:"el-icon--right"},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(d)]),_:1})]),_:1},8,["disabled"])]),_:1})]),Object(r["createVNode"])(b,{label:e.$i18n("Passive")},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(u,{modelValue:i.floor.passive,"onUpdate:modelValue":t[2]||(t[2]=e=>i.floor.passive=e),class:"mt-2",style:{"margin-left":"24px"},"inline-prompt":"","active-icon":i.Check,"inactive-icon":i.Close},null,8,["modelValue","active-icon","inactive-icon"])]),_:1},8,["label"]),Object(r["createVNode"])(b,{label:e.$i18n("Floor name")},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(m,{modelValue:i.floor.name,"onUpdate:modelValue":t[3]||(t[3]=e=>i.floor.name=e)},null,8,["modelValue"])]),_:1},8,["label"])],64)}var U={name:"Editor",components:{ArrowLeft:S["a"],ArrowRight:S["b"]},data:function(){return{}},computed:{floor(){return this.$store.getters["activeFloor"]},Check(){return S["c"]},Close(){return S["e"]}},methods:{}};o("357a");const P=f()(U,[["render",G],["__scopeId","data-v-106952cf"]]);var z=P;const L=e=>(Object(r["pushScopeId"])("data-v-9002a7de"),e=e(),Object(r["popScopeId"])(),e),R=L(()=>Object(r["createElementVNode"])("span",{class:"pmbn-m2"},[Object(r["createTextVNode"])("m"),Object(r["createElementVNode"])("sup",null,"2")],-1)),H=L(()=>Object(r["createElementVNode"])("span",{class:"pmbn-m2"},[Object(r["createTextVNode"])("m"),Object(r["createElementVNode"])("sup",null,"2")],-1)),q=L(()=>Object(r["createElementVNode"])("span",{class:"pmbn-m2"},[Object(r["createTextVNode"])("m"),Object(r["createElementVNode"])("sup",null,"2")],-1)),W=L(()=>Object(r["createElementVNode"])("span",{class:"pmbn-m2"},[Object(r["createTextVNode"])("m"),Object(r["createElementVNode"])("sup",null,"2")],-1)),J=L(()=>Object(r["createElementVNode"])("span",{class:"pmbn-m2"},[Object(r["createTextVNode"])("m"),Object(r["createElementVNode"])("sup",null,"2")],-1)),X={class:"pmbn-price-suffix"},Y={class:"pmbn-price-suffix"},K={class:"pmbn-price-suffix"},Q={class:"pmbn-price-suffix"},Z={class:"pmbn-clipboard-container"},ee={key:1,class:"clipboard-message"};function te(e,t,o,l,a,i){const n=Object(r["resolveComponent"])("el-switch"),s=Object(r["resolveComponent"])("el-form-item"),c=Object(r["resolveComponent"])("el-input"),d=Object(r["resolveComponent"])("el-input-number"),p=Object(r["resolveComponent"])("el-option"),u=Object(r["resolveComponent"])("el-select"),b=Object(r["resolveComponent"])("el-row"),m=Object(r["resolveComponent"])("el-date-picker"),f=Object(r["resolveComponent"])("Link"),g=Object(r["resolveComponent"])("el-icon"),j=Object(r["resolveComponent"])("file-field"),O=Object(r["resolveComponent"])("gallery-field"),h=Object(r["resolveComponent"])("el-button"),v=Object(r["resolveComponent"])("el-tooltip"),V=Object(r["resolveComponent"])("CircleCheck");return Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,[Object(r["createVNode"])(s,{label:e.$i18n("Is Apartment")},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(n,{modelValue:i.group.isApartment,"onUpdate:modelValue":t[0]||(t[0]=e=>i.group.isApartment=e),class:"mt-2",style:{"margin-left":"24px"},"inline-prompt":"","active-icon":i.Check,"inactive-icon":i.Close},null,8,["modelValue","active-icon","inactive-icon"])]),_:1},8,["label"]),Object(r["createVNode"])(s,{label:e.$i18n("Apartment name")},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(c,{modelValue:i.group.name,"onUpdate:modelValue":t[1]||(t[1]=e=>i.group.name=e)},null,8,["modelValue"])]),_:1},8,["label"]),i.group.isApartment?(Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],{key:0},[Object(r["createVNode"])(s,{label:e.$i18n("Number of rooms")},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(d,{modelValue:i.group.rooms,"onUpdate:modelValue":t[2]||(t[2]=e=>i.group.rooms=e),step:.5,"step-strictly":!0,min:0},null,8,["modelValue"])]),_:1},8,["label"]),Object(r["createVNode"])(s,{label:e.$i18n("Living area")},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(d,{modelValue:i.group.living_area,"onUpdate:modelValue":t[3]||(t[3]=e=>i.group.living_area=e),min:0,precision:2},null,8,["modelValue"]),R]),_:1},8,["label"]),Object(r["createVNode"])(s,{label:e.$i18n("Outdoor types")},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(u,{modelValue:i.group.outdoor_types,"onUpdate:modelValue":t[4]||(t[4]=e=>i.group.outdoor_types=e),filterable:"",multiple:"","allow-create":"",style:{width:"100%"}},{default:Object(r["withCtx"])(()=>[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(e.$store.getters["groupOutdoorTypes"],(e,t)=>(Object(r["openBlock"])(),Object(r["createBlock"])(p,{key:t,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),Object(r["createVNode"])(s,{label:e.$i18n("Garden")},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(d,{modelValue:i.group.garden,"onUpdate:modelValue":t[5]||(t[5]=e=>i.group.garden=e),min:0,precision:2},null,8,["modelValue"]),H]),_:1},8,["label"]),Object(r["createVNode"])(s,{label:e.$i18n("Terrace")},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(d,{modelValue:i.group.terrace,"onUpdate:modelValue":t[6]||(t[6]=e=>i.group.terrace=e),min:0,precision:2},null,8,["modelValue"]),q]),_:1},8,["label"]),Object(r["createVNode"])(s,{label:e.$i18n("Balcony")},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(d,{modelValue:i.group.balcony,"onUpdate:modelValue":t[7]||(t[7]=e=>i.group.balcony=e),min:0,precision:2},null,8,["modelValue"]),W]),_:1},8,["label"]),Object(r["createVNode"])(s,{label:e.$i18n("Basement")},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(d,{modelValue:i.group.basement,"onUpdate:modelValue":t[8]||(t[8]=e=>i.group.basement=e),min:0,precision:2},null,8,["modelValue"]),J]),_:1},8,["label"]),Object(r["createVNode"])(s,{label:e.$i18n("Sale price")},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(b,{class:"pmbn-price"},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(d,{modelValue:i.group.sale_price,"onUpdate:modelValue":t[9]||(t[9]=e=>i.group.sale_price=e),min:0,precision:2},null,8,["modelValue"]),Object(r["createElementVNode"])("span",X,Object(r["toDisplayString"])(e.$store.state.info.currency),1)]),_:1})]),_:1},8,["label"]),Object(r["createVNode"])(s,{label:e.$i18n("Rent price")},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(b,{class:"pmbn-price"},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(d,{modelValue:i.group.rent_price,"onUpdate:modelValue":t[10]||(t[10]=e=>i.group.rent_price=e),min:0,precision:2},null,8,["modelValue"]),Object(r["createElementVNode"])("span",Y,Object(r["toDisplayString"])(e.$store.state.info.currency)+" / "+Object(r["toDisplayString"])(e.$store.state.info.rentPricePeriod),1)]),_:1})]),_:1},8,["label"]),Object(r["createVNode"])(s,{label:e.$i18n("Net rent")},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(b,{class:"pmbn-price"},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(d,{modelValue:i.group.net_rent,"onUpdate:modelValue":t[11]||(t[11]=e=>i.group.net_rent=e),min:0,precision:2},null,8,["modelValue"]),Object(r["createElementVNode"])("span",K,Object(r["toDisplayString"])(e.$store.state.info.currency)+" / "+Object(r["toDisplayString"])(e.$store.state.info.rentPricePeriod),1)]),_:1})]),_:1},8,["label"]),Object(r["createVNode"])(s,{label:e.$i18n("Overheads")},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(b,{class:"pmbn-price"},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(d,{modelValue:i.group.rent_overheads,"onUpdate:modelValue":t[12]||(t[12]=e=>i.group.rent_overheads=e),min:0,precision:2},null,8,["modelValue"]),Object(r["createElementVNode"])("span",Q,Object(r["toDisplayString"])(e.$store.state.info.currency)+" / "+Object(r["toDisplayString"])(e.$store.state.info.rentPricePeriod),1)]),_:1})]),_:1},8,["label"]),Object(r["createVNode"])(s,{label:e.$i18n("Available from")},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(m,{modelValue:i.group.available_from,"onUpdate:modelValue":t[13]||(t[13]=e=>i.group.available_from=e),type:"date"},null,8,["modelValue"])]),_:1},8,["label"]),Object(r["createVNode"])(s,{label:e.$i18n("Status")},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(u,{modelValue:i.group.status,"onUpdate:modelValue":t[14]||(t[14]=e=>i.group.status=e),filterable:"","default-first-option":"","reserve-keyword":!1},{default:Object(r["withCtx"])(()=>[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(e.$store.getters["groupStatuses"](e.$i18n),(e,t)=>(Object(r["openBlock"])(),Object(r["createBlock"])(p,{key:t,label:e,value:t},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),Object(r["createVNode"])(s,{label:e.$i18n("Registration URL")},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(c,{modelValue:i.group.registration_url,"onUpdate:modelValue":t[15]||(t[15]=e=>i.group.registration_url=e)},{prepend:Object(r["withCtx"])(()=>[Object(r["createVNode"])(g,null,{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(f)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),Object(r["createVNode"])(s,{label:e.$i18n("Fact sheet")},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(j,{modelValue:i.group.factsheet,"onUpdate:modelValue":t[16]||(t[16]=e=>i.group.factsheet=e)},null,8,["modelValue"])]),_:1},8,["label"]),Object(r["createVNode"])(s,{label:e.$i18n("Floor plan")},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(O,{modelValue:i.group.blueprints,"onUpdate:modelValue":t[17]||(t[17]=e=>i.group.blueprints=e)},null,8,["modelValue"])]),_:1},8,["label"]),Object(r["createVNode"])(s,{label:e.$i18n("Apartment images")},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(O,{modelValue:i.group.images,"onUpdate:modelValue":t[18]||(t[18]=e=>i.group.images=e)},null,8,["modelValue"])]),_:1},8,["label"])],64)):Object(r["createCommentVNode"])("",!0),Object(r["createElementVNode"])("div",Z,[Object(r["createVNode"])(v,{effect:"dark",content:e.$i18n("Copy Apartment Data"),placement:"top"},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(h,{size:"small",onClick:t[19]||(t[19]=e=>i.copyGroup())},{default:Object(r["withCtx"])(()=>[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.$i18n("Copy")),1)]),_:1})]),_:1},8,["content"]),e.$store.getters["clipboard"]&&"group"===e.$store.getters["clipboard"].type?(Object(r["openBlock"])(),Object(r["createBlock"])(v,{key:0,effect:"dark",content:e.$i18n("Paste Apartment Data"),placement:"top"},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(h,{size:"small",onClick:t[20]||(t[20]=e=>i.pasteGroup())},{default:Object(r["withCtx"])(()=>[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.$i18n("Paste")),1)]),_:1})]),_:1},8,["content"])):Object(r["createCommentVNode"])("",!0),e.clipboardMessage?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",ee,[Object(r["createVNode"])(g,null,{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(V)]),_:1}),Object(r["createTextVNode"])(" "+Object(r["toDisplayString"])(e.clipboardMessage),1)])):Object(r["createCommentVNode"])("",!0)])],64)}const oe={class:"pmbn-gallery-add-wrapper"};function re(e,t,o,l,a,i){const n=Object(r["resolveComponent"])("Delete"),s=Object(r["resolveComponent"])("el-icon"),c=Object(r["resolveComponent"])("el-button"),d=Object(r["resolveComponent"])("draggable"),p=Object(r["resolveComponent"])("Picture");return Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,[Object(r["createVNode"])(d,Object(r["mergeProps"])({class:"pmbn-gallery-items","component-data":{type:"transition-group",name:e.drag?null:"flip-list"},modelValue:e.images,"onUpdate:modelValue":t[0]||(t[0]=t=>e.images=t)},i.dragOptions,{onStart:t[1]||(t[1]=t=>e.drag=!0),onEnd:t[2]||(t[2]=t=>e.drag=!1),"item-key":"order"}),{item:Object(r["withCtx"])(({element:e})=>[Object(r["createElementVNode"])("div",{class:"pmbn-gallery-item",style:Object(r["normalizeStyle"])({"background-image":"url('"+i.imageItemBg(e.image)+"')"})},[Object(r["createVNode"])(c,{class:"pmbn-gallery-item-delete",type:"danger",circle:"",onClick:t=>i.deleteItem(e.order)},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(s,null,{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(n)]),_:1})]),_:2},1032,["onClick"])],4)]),_:1},16,["component-data","modelValue"]),Object(r["createElementVNode"])("div",oe,[Object(r["createVNode"])(c,{plain:"",onClick:i.addImages},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(s,null,{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(p)]),_:1}),Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.$i18n("Add images")),1)]),_:1},8,["onClick"])])],64)}var le={name:"GalleryField",components:{Picture:S["m"],Delete:S["f"],draggable:D.a},props:["modelValue"],emits:["update:modelValue"],data:function(){return{images:this.modelValue.map((e,t)=>({image:e,order:t+1})),drag:!1,load:!1}},computed:{dragOptions(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}},orderedImages(){return B.a.map(this.images,"image")}},methods:{addImages(){let e={promise:null};this.$eventBus.emit("addImage",null,e),e.promise&&e.promise.then(e=>{B.a.forEach(e,(e,t)=>{this.images.push({image:e,order:t+1+this.images.length})})})},deleteItem(e){B.a.remove(this.images,t=>t.order===e)},sort(){this.images=this.images.sort((e,t)=>e.order-t.order)},imageItemBg(e){return e.sizes&&e.sizes.thumbnail?e.sizes.thumbnail.url:e.url}},watch:{images:{handler(){this.load||this.$emit("update:modelValue",this.orderedImages)},deep:!0},modelValue:{handler(){this.load=!0,this.images=this.modelValue.map((e,t)=>({image:e,order:t+1})),this.$nextTick(()=>{this.load=!1})},deep:!0}}};o("b9f9");const ae=f()(le,[["render",re],["__scopeId","data-v-48a87165"]]);var ie=ae;const ne={key:0,class:"pmbn-file-item"},se={key:1,class:"pmbn-file-add-wrapper"};function ce(e,t,o,l,a,i){const n=Object(r["resolveComponent"])("Document"),s=Object(r["resolveComponent"])("el-icon"),c=Object(r["resolveComponent"])("Delete"),d=Object(r["resolveComponent"])("el-button"),p=Object(r["resolveComponent"])("DocumentAdd");return e.file?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",ne,[Object(r["createVNode"])(s,{size:"20"},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(n)]),_:1}),Object(r["createElementVNode"])("span",null,Object(r["toDisplayString"])(e.file.filename),1),Object(r["createVNode"])(d,{class:"pmbn-file-item-delete",type:"danger",circle:"",onClick:t[0]||(t[0]=e=>i.deleteItem())},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(s,null,{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(c)]),_:1})]),_:1})])):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",se,[Object(r["createVNode"])(d,{plain:"",onClick:i.addFile},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(s,null,{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(p)]),_:1}),Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.$i18n("Add file")),1)]),_:1},8,["onClick"])]))}var de={name:"fileField",components:{DocumentAdd:S["h"],Document:S["g"],Delete:S["f"]},props:["modelValue"],emits:["update:modelValue"],data:function(){return{file:this.modelValue,load:!1}},computed:{},methods:{addFile(){let e={promise:null};this.$eventBus.emit("addFile",null,e),e.promise&&e.promise.then(e=>{this.file=e})},deleteItem(){this.file=null}},watch:{file:{handler(){this.load||this.$emit("update:modelValue",this.file)},deep:!0},modelValue:{handler(){this.load=!0,this.file=this.modelValue,this.$nextTick(()=>{this.load=!1})},deep:!0}}};o("e566");const pe=f()(de,[["render",ce],["__scopeId","data-v-29f0c15d"]]);var ue=pe,be={name:"Editor",components:{galleryField:ie,fileField:ue,Link:S["k"],CircleCheck:S["d"]},data:function(){return{clipboardMessage:null,clipboardMessageTO:null}},computed:{group(){return this.$store.getters["selectedGroup"]},Check(){return S["c"]},Close(){return S["e"]}},methods:{copyGroup(){this.$store.dispatch("copyToClipboard",{type:"group",data:this.group}),this.clipboardMessage=this.$i18n("Apartment copied on clipboard."),clearTimeout(this.clipboardMessageTO),this.clipboardMessageTO=setTimeout(()=>{this.clipboardMessage=null,this.clipboardMessageTO=null},1500)},pasteGroup(){this.$store.dispatch("pasteClipboardToGroup",this.group),this.clipboardMessage=this.$i18n("Clipboard data pasted into apartment."),clearTimeout(this.clipboardMessageTO),this.clipboardMessageTO=setTimeout(()=>{this.clipboardMessage=null,this.clipboardMessageTO=null},1500)}}};o("98b1");const me=f()(be,[["render",te],["__scopeId","data-v-9002a7de"]]);var fe=me,ge={name:"Editor",components:{generalSettings:A,floorSettings:z,groupSettings:fe},data:function(){return{}},computed:{},methods:{}};o("55ac");const je=f()(ge,[["render",x],["__scopeId","data-v-4c63909c"]]);var Oe=je;const he=e=>(Object(r["pushScopeId"])("data-v-2b8bfa89"),e=e(),Object(r["popScopeId"])(),e),ve={class:"pmbn-info-container"},Ve={class:"pmbn-info-filters"},ye={key:0,class:"pmbn-info-filter-wrapper"},ke={key:1,class:"pmbn-info-filter-wrapper -half",style:{padding:"0px 10px"}},$e={key:2,class:"pmbn-info-filter-wrapper -half",style:{padding:"0px 10px"}},xe={key:3,class:"pmbn-info-filter-wrapper -half"},Ce={key:4,class:"pmbn-info-filter-wrapper -half",style:{padding:"0px 10px"}},we={key:5,class:"pmbn-info-filter-wrapper -half",style:{padding:"0px 10px"}},_e={key:6,class:"pmbn-info-filter-wrapper -half",style:{padding:"0px 10px"}},Ne={key:7,class:"pmbn-info-filter-wrapper -half",style:{padding:"0px 10px"}},Fe={key:8,class:"pmbn-info-filter-wrapper -half",style:{padding:"0px 10px"}},Be={key:9,class:"pmbn-info-filter-wrapper -half",style:{padding:"0px 10px"}},Se={key:10,class:"pmbn-info-filter-wrapper -half",style:{padding:"0px 10px"}},Ee={key:11,class:"pmbn-info-filter-wrapper -half",style:{padding:"0px 10px"}},De={key:12,class:"pmbn-info-filter-wrapper"},Me={key:13,class:"pmbn-info-filter-wrapper -half"},Te={key:14,class:"pmbn-info-filter-wrapper -half"},Ae={key:0,class:"pmbn-resp-cell-label"},Ie={key:2,class:"pmbn-cell-value-override"},Ge={key:3},Ue={key:0},Pe=he(()=>Object(r["createElementVNode"])("sup",null,"2",-1)),ze={key:1},Le={key:2},Re={key:3},He={key:4},qe={key:5},We={key:6,class:"pmbn-table-thumbnails"},Je={key:7},Xe={key:8},Ye={key:4,class:"pmbn-resp-cell-coma"},Ke={class:"pmbn-table-cell"},Qe={key:0,class:"pmbn-table-cell"},Ze={key:1,class:"pmbn-table-cell"},et={key:0},tt=he(()=>Object(r["createElementVNode"])("sup",null,"2",-1)),ot={key:1},rt={key:2},lt={key:3},at={key:4},it={key:5},nt={class:"pmbn-popup-details-buttons"},st={key:0,class:"pmbn-popup-details-image-slider"},ct=["href"],dt=["src","alt"],pt={key:1,class:"pmbn-popup-details-image-slider"},ut=["src","alt"],bt={class:"dialog-footer"};function mt(e,t,o,l,a,i){const n=Object(r["resolveComponent"])("el-input"),s=Object(r["resolveComponent"])("el-slider"),c=Object(r["resolveComponent"])("el-option"),d=Object(r["resolveComponent"])("el-select"),p=Object(r["resolveComponent"])("el-date-picker"),u=Object(r["resolveComponent"])("Search"),b=Object(r["resolveComponent"])("el-icon"),m=Object(r["resolveComponent"])("EditPen"),f=Object(r["resolveComponent"])("el-button"),g=Object(r["resolveComponent"])("Document"),j=Object(r["resolveComponent"])("el-table-column"),O=Object(r["resolveComponent"])("el-table"),h=Object(r["resolveComponent"])("swiper-slide"),v=Object(r["resolveComponent"])("swiper"),V=Object(r["resolveComponent"])("el-dialog");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",ve,[Object(r["createElementVNode"])("div",Ve,[e.$store.getters["infoFilterFields"].includes("name")||e.$store.getters["infoFilterFields"].includes("floor")?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",ye,[Object(r["createVNode"])(n,{modelValue:e.filters.search,"onUpdate:modelValue":t[0]||(t[0]=t=>e.filters.search=t),placeholder:e.$i18n("Search"),"prefix-icon":i.SearchIcon},null,8,["modelValue","placeholder","prefix-icon"])])):Object(r["createCommentVNode"])("",!0),e.$store.getters["infoFilterFields"].includes("rooms")?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",ke,[Object(r["createElementVNode"])("label",null,Object(r["toDisplayString"])(e.$i18n("Number of rooms")),1),Object(r["createVNode"])(s,{modelValue:e.filters.rooms,"onUpdate:modelValue":t[1]||(t[1]=t=>e.filters.rooms=t),range:"",step:.5,min:this.$store.getters["groupFieldMinMax"]("rooms")[0],max:this.$store.getters["groupFieldMinMax"]("rooms")[1]},null,8,["modelValue","min","max"])])):Object(r["createCommentVNode"])("",!0),e.$store.getters["infoFilterFields"].includes("living_area")?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",$e,[Object(r["createElementVNode"])("label",null,Object(r["toDisplayString"])(e.$i18n("Living area")),1),Object(r["createVNode"])(s,{modelValue:e.filters.living_area,"onUpdate:modelValue":t[2]||(t[2]=t=>e.filters.living_area=t),range:"",min:this.$store.getters["groupFieldMinMax"]("living_area")[0],max:this.$store.getters["groupFieldMinMax"]("living_area")[1],"format-tooltip":e=>e+"m²"},null,8,["modelValue","min","max","format-tooltip"])])):Object(r["createCommentVNode"])("",!0),e.$store.getters["infoFilterFields"].includes("outdoor_types")?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",xe,[Object(r["createElementVNode"])("label",null,Object(r["toDisplayString"])(e.$i18n("Outdoor types")),1),Object(r["createVNode"])(d,{modelValue:e.filters.outdoor_types,"onUpdate:modelValue":t[3]||(t[3]=t=>e.filters.outdoor_types=t),filterable:"",clearable:"",multiple:"","reserve-keyword":!1,placeholder:e.$i18n("Select")},{default:Object(r["withCtx"])(()=>[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(e.$store.getters["groupOutdoorTypes"],(e,t)=>(Object(r["openBlock"])(),Object(r["createBlock"])(c,{key:t,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])])):Object(r["createCommentVNode"])("",!0),e.$store.getters["infoFilterFields"].includes("garden")?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Ce,[Object(r["createElementVNode"])("label",null,Object(r["toDisplayString"])(e.$i18n("Garden")),1),Object(r["createVNode"])(s,{modelValue:e.filters.garden,"onUpdate:modelValue":t[4]||(t[4]=t=>e.filters.garden=t),range:"",min:this.$store.getters["groupFieldMinMax"]("garden")[0],max:this.$store.getters["groupFieldMinMax"]("garden")[1],"format-tooltip":e=>e+"m²"},null,8,["modelValue","min","max","format-tooltip"])])):Object(r["createCommentVNode"])("",!0),e.$store.getters["infoFilterFields"].includes("terrace")?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",we,[Object(r["createElementVNode"])("label",null,Object(r["toDisplayString"])(e.$i18n("Terrace")),1),Object(r["createVNode"])(s,{modelValue:e.filters.terrace,"onUpdate:modelValue":t[5]||(t[5]=t=>e.filters.terrace=t),range:"",min:this.$store.getters["groupFieldMinMax"]("terrace")[0],max:this.$store.getters["groupFieldMinMax"]("terrace")[1],"format-tooltip":e=>e+"m²"},null,8,["modelValue","min","max","format-tooltip"])])):Object(r["createCommentVNode"])("",!0),e.$store.getters["infoFilterFields"].includes("balcony")?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",_e,[Object(r["createElementVNode"])("label",null,Object(r["toDisplayString"])(e.$i18n("Balcony")),1),Object(r["createVNode"])(s,{modelValue:e.filters.balcony,"onUpdate:modelValue":t[6]||(t[6]=t=>e.filters.balcony=t),range:"",min:this.$store.getters["groupFieldMinMax"]("balcony")[0],max:this.$store.getters["groupFieldMinMax"]("balcony")[1],"format-tooltip":e=>e+"m²"},null,8,["modelValue","min","max","format-tooltip"])])):Object(r["createCommentVNode"])("",!0),e.$store.getters["infoFilterFields"].includes("basement")?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Ne,[Object(r["createElementVNode"])("label",null,Object(r["toDisplayString"])(e.$i18n("Basement")),1),Object(r["createVNode"])(s,{modelValue:e.filters.basement,"onUpdate:modelValue":t[7]||(t[7]=t=>e.filters.basement=t),range:"",min:this.$store.getters["groupFieldMinMax"]("basement")[0],max:this.$store.getters["groupFieldMinMax"]("basement")[1],"format-tooltip":e=>e+"m²"},null,8,["modelValue","min","max","format-tooltip"])])):Object(r["createCommentVNode"])("",!0),e.$store.getters["infoFilterFields"].includes("sale_price")?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Fe,[Object(r["createElementVNode"])("label",null,Object(r["toDisplayString"])(e.$i18n("Sale price")),1),Object(r["createVNode"])(s,{modelValue:e.filters.sale_price,"onUpdate:modelValue":t[8]||(t[8]=t=>e.filters.sale_price=t),range:"",step:i.calcSteps(this.$store.getters["groupFieldMinMax"]("sale_price")),min:this.$store.getters["groupFieldMinMax"]("sale_price")[0],max:this.$store.getters["groupFieldMinMax"]("sale_price")[1],"format-tooltip":i.formatPrice},null,8,["modelValue","step","min","max","format-tooltip"])])):Object(r["createCommentVNode"])("",!0),e.$store.getters["infoFilterFields"].includes("rent_price")?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Be,[Object(r["createElementVNode"])("label",null,Object(r["toDisplayString"])(e.$i18n("Rent price")),1),Object(r["createVNode"])(s,{modelValue:e.filters.rent_price,"onUpdate:modelValue":t[9]||(t[9]=t=>e.filters.rent_price=t),range:"",step:i.calcSteps(this.$store.getters["groupFieldMinMax"]("rent_price")),min:this.$store.getters["groupFieldMinMax"]("rent_price")[0],max:this.$store.getters["groupFieldMinMax"]("rent_price")[1],"format-tooltip":i.formatPrice},null,8,["modelValue","step","min","max","format-tooltip"])])):Object(r["createCommentVNode"])("",!0),e.$store.getters["infoFilterFields"].includes("net_rent")?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Se,[Object(r["createElementVNode"])("label",null,Object(r["toDisplayString"])(e.$i18n("Net rent")),1),Object(r["createVNode"])(s,{modelValue:e.filters.net_rent,"onUpdate:modelValue":t[10]||(t[10]=t=>e.filters.net_rent=t),range:"",step:i.calcSteps(this.$store.getters["groupFieldMinMax"]("net_rent")),min:this.$store.getters["groupFieldMinMax"]("net_rent")[0],max:this.$store.getters["groupFieldMinMax"]("net_rent")[1],"format-tooltip":i.formatPrice},null,8,["modelValue","step","min","max","format-tooltip"])])):Object(r["createCommentVNode"])("",!0),e.$store.getters["infoFilterFields"].includes("rent_overheads")?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Ee,[Object(r["createElementVNode"])("label",null,Object(r["toDisplayString"])(e.$i18n("Overheads")),1),Object(r["createVNode"])(s,{modelValue:e.filters.rent_overheads,"onUpdate:modelValue":t[11]||(t[11]=t=>e.filters.rent_overheads=t),range:"",step:i.calcSteps(this.$store.getters["groupFieldMinMax"]("rent_overheads")),min:this.$store.getters["groupFieldMinMax"]("rent_overheads")[0],max:this.$store.getters["groupFieldMinMax"]("rent_overheads")[1],"format-tooltip":i.formatPrice},null,8,["modelValue","step","min","max","format-tooltip"])])):Object(r["createCommentVNode"])("",!0),e.$store.getters["infoFilterFields"].includes("available_from")?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",De,[Object(r["createElementVNode"])("label",null,Object(r["toDisplayString"])(e.$i18n("Availability")),1),Object(r["createVNode"])(p,{modelValue:e.filters.available_from,"onUpdate:modelValue":t[12]||(t[12]=t=>e.filters.available_from=t),type:"daterange","range-separator":e.$i18n("to","date range"),"start-placeholder":e.$i18n("Start date"),"end-placeholder":e.$i18n("End date")},null,8,["modelValue","range-separator","start-placeholder","end-placeholder"])])):Object(r["createCommentVNode"])("",!0),e.$store.getters["infoFilterFields"].includes("status")?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Me,[Object(r["createElementVNode"])("label",null,Object(r["toDisplayString"])(e.$i18n("Status")),1),Object(r["createVNode"])(d,{modelValue:e.filters.status,"onUpdate:modelValue":t[13]||(t[13]=t=>e.filters.status=t),filterable:"",clearable:"","reserve-keyword":!1,placeholder:e.$i18n("Select")},{default:Object(r["withCtx"])(()=>[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(e.$store.getters["groupStatuses"](e.$i18n,!0),(e,t)=>(Object(r["openBlock"])(),Object(r["createBlock"])(c,{key:t,label:e,value:t},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])])):Object(r["createCommentVNode"])("",!0),e.$store.getters["infoFilterFields"].includes("floorIndex")?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Te,[Object(r["createElementVNode"])("label",null,Object(r["toDisplayString"])(e.$i18n("Floor")),1),Object(r["createVNode"])(d,{modelValue:e.filters.floor,"onUpdate:modelValue":t[14]||(t[14]=t=>e.filters.floor=t),filterable:"",clearable:"",multiple:"","reserve-keyword":!1,placeholder:e.$i18n("Select")},{default:Object(r["withCtx"])(()=>[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(i.floorOptions,e=>(Object(r["openBlock"])(),Object(r["createBlock"])(c,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])])):Object(r["createCommentVNode"])("",!0)]),Object(r["createVNode"])(O,{ref:"infotable",data:i.properties,style:{"min-width":"100%"},"table-layout":"auto",onRowClick:i.openPopup,onCellMouseEnter:i.highlightApartment,"row-class-name":i.getRowClasses,class:"pmbn-info-table","empty-text":e.$i18n("Apartments not found")},{default:Object(r["withCtx"])(()=>[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(e.$store.getters["infoTableColumns"],(t,o)=>(Object(r["openBlock"])(),Object(r["createBlock"])(j,{prop:t,label:i.getColumnNames(t),key:o,fit:!0,sortable:""},{default:Object(r["withCtx"])(l=>[Object(r["createElementVNode"])("div",{class:Object(r["normalizeClass"])(["pmbn-table-cell",i.cellClasses(l.row,t,o)])},[o>0?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",Ae,Object(r["toDisplayString"])(i.getColumnNames(t))+": ",1)):Object(r["createCommentVNode"])("",!0),0===o?(Object(r["openBlock"])(),Object(r["createBlock"])(b,{key:1},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(u)]),_:1})):Object(r["createCommentVNode"])("",!0),e.$store.getters["groupFieldValueOverride"](t)?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",Ie,Object(r["toDisplayString"])(e.$store.getters["groupFieldValueOverride"](t)),1)):(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",Ge,[["living_area","garden","terrace","balcony","basement"].includes(t)?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",Ue,[Object(r["createTextVNode"])(Object(r["toDisplayString"])(l.row[t])+" m",1),Pe])):["sale_price","rent_price","rent_overheads","net_rent"].includes(t)?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",ze,Object(r["toDisplayString"])(i.formatPrice(l.row[t])),1)):"available_from"===t?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",Le,Object(r["toDisplayString"])(i.formatDate(l.row[t])),1)):"status"===t?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",Re,Object(r["toDisplayString"])(e.$store.getters["groupStatuses"](e.$i18n)[l.row[t]]?e.$store.getters["groupStatuses"](e.$i18n)[l.row[t]]:"-"),1)):"registration_url"===t?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",He,[Object(r["createVNode"])(f,{plain:"",tag:"a",href:l.row[t],target:"_blank",rel:"noopener noreferrer",disabled:"available"!==l.row.status},{default:Object(r["withCtx"])(()=>{var t;return[Object(r["createVNode"])(b,{style:{"margin-right":"5px"}},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(m)]),_:1}),Object(r["createTextVNode"])(" "+Object(r["toDisplayString"])(null!==(t=e.$store.getters["groupFieldNames"]["registration_url"])&&void 0!==t?t:e.$i18n("Online Registration")),1)]}),_:2},1032,["href","disabled"])])):"factsheet"===t?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",qe,[l.row[t]&&l.row[t].url?(Object(r["openBlock"])(),Object(r["createBlock"])(f,{key:0,plain:"",tag:"a",href:l.row[t].url,target:"_blank"},{default:Object(r["withCtx"])(()=>{var t;return[Object(r["createVNode"])(b,{style:{"margin-right":"5px"}},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(g)]),_:1}),Object(r["createTextVNode"])(" "+Object(r["toDisplayString"])(null!==(t=e.$store.getters["groupFieldNames"]["factsheet"])&&void 0!==t?t:e.$i18n("Fact sheet")),1)]}),_:2},1032,["href"])):Object(r["createCommentVNode"])("",!0)])):["images","blueprints"].includes(t)?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",We,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(l.row[t],(e,t)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{class:"pmbn-table-thumbnail",style:Object(r["normalizeStyle"])({"background-image":"url('"+(e.sizes.thumbnail&&e.sizes.thumbnail.url?e.sizes.thumbnail.url:e.url)+"')"}),key:t},null,4))),128))])):"outdoor_types"===t?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",Je,Object(r["toDisplayString"])(l.row[t].join(", ")),1)):(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",Xe,Object(r["toDisplayString"])(l.row[t]),1))])),o>0&&o<e.$store.getters["infoTableColumns"].length-1?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",Ye,",")):Object(r["createCommentVNode"])("",!0)],2)]),_:2},1032,["prop","label"]))),128))]),_:1},8,["data","onRowClick","onCellMouseEnter","row-class-name","empty-text"]),(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(i.properties,(o,l)=>(Object(r["openBlock"])(),Object(r["createBlock"])(V,{key:l,"model-value":e.openedDialog===o.propIndex,title:o.name,onClosed:i.handleDialogClose,onOpen:i.handleDialogOpen,"align-center":"",width:"100%"},{footer:Object(r["withCtx"])(()=>[Object(r["createElementVNode"])("span",bt,[Object(r["createVNode"])(f,{onClick:t[15]||(t[15]=t=>e.openedDialog=null)},{default:Object(r["withCtx"])(()=>[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.$i18n("Close")),1)]),_:1})])]),default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(O,{data:i.detailsTableData(o),style:{"min-width":"100%"},"table-layout":"auto","show-header":!1},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(j,{prop:"key",fit:!0},{default:Object(r["withCtx"])(t=>[Object(r["createElementVNode"])("div",Ke,Object(r["toDisplayString"])(e.$store.getters["groupFieldNames"][t.row.key]?e.$store.getters["groupFieldNames"][t.row.key]:t.row.key),1)]),_:1}),Object(r["createVNode"])(j,{prop:"value",fit:!0},{default:Object(r["withCtx"])(t=>[e.$store.getters["groupFieldValueOverride"](t.row.key)?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Qe,[Object(r["createElementVNode"])("span",null,Object(r["toDisplayString"])(e.$store.getters["groupFieldValueOverride"](t.row.key)),1)])):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Ze,[["living_area","garden","terrace","balcony","basement"].includes(t.row.key)?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",et,[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.row.value)+" m",1),tt])):["sale_price","rent_price","rent_overheads","net_rent"].includes(t.row.key)?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",ot,Object(r["toDisplayString"])(i.formatPrice(t.row.value)),1)):"available_from"===t.row.key?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",rt,Object(r["toDisplayString"])(i.formatDate(t.row.value)),1)):"status"===t.row.key?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",lt,Object(r["toDisplayString"])(e.$store.getters["groupStatuses"](e.$i18n)[t.row.value]?e.$store.getters["groupStatuses"](e.$i18n)[t.row.value]:"-"),1)):"outdoor_types"===t.row.key?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",at,Object(r["toDisplayString"])(t.row.value.join(", ")),1)):(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",it,Object(r["toDisplayString"])(t.row.value),1))]))]),_:1})]),_:2},1032,["data"]),Object(r["createElementVNode"])("div",nt,[e.$store.getters["infoDetailsFields"].includes("registration_url")&&!e.$store.getters["groupFieldValueOverride"]("registration_url")?(Object(r["openBlock"])(),Object(r["createBlock"])(f,{key:0,plain:"",tag:"a",href:o.registration_url,target:"_blank",rel:"noopener noreferrer",disabled:"available"!==o.status},{default:Object(r["withCtx"])(()=>{var t;return[Object(r["createVNode"])(b,{style:{"margin-right":"5px"}},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(m)]),_:1}),Object(r["createTextVNode"])(" "+Object(r["toDisplayString"])(null!==(t=e.$store.getters["groupFieldNames"]["registration_url"])&&void 0!==t?t:e.$i18n("Online Registration")),1)]}),_:2},1032,["href","disabled"])):Object(r["createCommentVNode"])("",!0),e.$store.getters["infoDetailsFields"].includes("factsheet")&&o.factsheet&&o.factsheet.url&&!e.$store.getters["groupFieldValueOverride"]("factsheet")?(Object(r["openBlock"])(),Object(r["createBlock"])(f,{key:1,plain:"",tag:"a",href:o.factsheet.url,target:"_blank"},{default:Object(r["withCtx"])(()=>{var t;return[Object(r["createVNode"])(b,{style:{"margin-right":"5px"}},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(g)]),_:1}),Object(r["createTextVNode"])(" "+Object(r["toDisplayString"])(null!==(t=e.$store.getters["groupFieldNames"]["factsheet"])&&void 0!==t?t:e.$i18n("Fact sheet")),1)]}),_:2},1032,["href"])):Object(r["createCommentVNode"])("",!0)]),e.$store.getters["infoDetailsFields"].includes("blueprints")&&o.blueprints&&o.blueprints.length>0&&!e.$store.getters["groupFieldValueOverride"]("blueprints")?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",st,[Object(r["createVNode"])(v,{modules:e.swiperModules,navigation:"",pagination:{clickable:!0,dynamicBullets:!0},autoHeight:!0},{default:Object(r["withCtx"])(()=>[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(o.blueprints,(e,t)=>(Object(r["openBlock"])(),Object(r["createBlock"])(h,{key:t,class:"pmbn-image-slide"},{default:Object(r["withCtx"])(()=>{var t,l;return[Object(r["createElementVNode"])("a",{href:null!==(t=null===(l=o.factsheet)||void 0===l?void 0:l.url)&&void 0!==t?t:"#",target:"_blank"},[Object(r["createElementVNode"])("img",{src:e.sizes.large&&e.sizes.large.url?e.sizes.large.url:e.url,alt:e.alt?e.alt:""},null,8,dt)],8,ct)]}),_:2},1024))),128))]),_:2},1032,["modules"])])):Object(r["createCommentVNode"])("",!0),e.$store.getters["infoDetailsFields"].includes("images")&&o.images&&o.images.length>0&&!e.$store.getters["groupFieldValueOverride"]("images")?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",pt,[Object(r["createVNode"])(v,{modules:e.swiperModules,navigation:"",pagination:{clickable:!0,dynamicBullets:!0},autoHeight:!0},{default:Object(r["withCtx"])(()=>[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(o.images,(e,t)=>(Object(r["openBlock"])(),Object(r["createBlock"])(h,{key:t,class:"pmbn-image-slide"},{default:Object(r["withCtx"])(()=>[Object(r["createElementVNode"])("img",{src:e.sizes.large&&e.sizes.large.url?e.sizes.large.url:e.url,alt:e.alt?e.alt:""},null,8,ut)]),_:2},1024))),128))]),_:2},1032,["modules"])])):Object(r["createCommentVNode"])("",!0)]),_:2},1032,["model-value","title","onClosed","onOpen"]))),128))])}var ft=o("c1df"),gt=o.n(ft),jt=o("4da1"),Ot=o("8349"),ht=(o("41fa"),o("583f"),o("a1bf"),{name:"Info",components:{Swiper:Ot["a"],SwiperSlide:Ot["b"],Search:S["n"],Document:S["g"],EditPen:S["i"]},data:function(){return{openedDialog:null,swiperModules:[jt["a"],jt["b"]],filters:{search:"",rooms:this.$store.getters["groupFieldMinMax"]("rooms"),living_area:this.$store.getters["groupFieldMinMax"]("living_area"),garden:this.$store.getters["groupFieldMinMax"]("garden"),terrace:this.$store.getters["groupFieldMinMax"]("terrace"),balcony:this.$store.getters["groupFieldMinMax"]("balcony"),basement:this.$store.getters["groupFieldMinMax"]("basement"),sale_price:this.$store.getters["groupFieldMinMax"]("sale_price"),rent_price:this.$store.getters["groupFieldMinMax"]("rent_price"),net_rent:this.$store.getters["groupFieldMinMax"]("net_rent"),rent_overheads:this.$store.getters["groupFieldMinMax"]("rent_overheads"),available_from:null,status:null,floor:null,outdoor_types:[]},isTableScrolling:!1}},computed:{properties(){return B.a.filter(this.$store.getters["properties"],e=>{if(this.filters.search.length>0&&(this.$store.getters["infoFilterFields"].includes("name")||this.$store.getters["infoFilterFields"].includes("floor"))){let t=B.a.trim(B.a.lowerCase(this.filters.search)),o=B.a.trim(B.a.lowerCase(e.name)),r=B.a.trim(B.a.lowerCase(e.floor)),l=!1;if(this.$store.getters["infoFilterFields"].includes("name")&&B.a.includes(o,t)&&(l=!0),!l&&this.$store.getters["infoFilterFields"].includes("floor")&&B.a.includes(r,t)&&(l=!0),!l)return!1}if(this.$store.getters["infoFilterFields"].includes("rooms")&&(e.rooms<this.filters.rooms[0]||e.rooms>this.filters.rooms[1]))return!1;if(this.$store.getters["infoFilterFields"].includes("living_area")&&(e.living_area<this.filters.living_area[0]||e.living_area>this.filters.living_area[1]))return!1;if(this.$store.getters["infoFilterFields"].includes("outdoor_types")&&this.filters.outdoor_types&&this.filters.outdoor_types.length>0&&B.a.isEmpty(B.a.intersection(e.outdoor_types,this.filters.outdoor_types)))return!1;if(this.$store.getters["infoFilterFields"].includes("garden")&&(e.garden<this.filters.garden[0]||e.garden>this.filters.garden[1]))return!1;if(this.$store.getters["infoFilterFields"].includes("terrace")&&(e.terrace<this.filters.terrace[0]||e.terrace>this.filters.terrace[1]))return!1;if(this.$store.getters["infoFilterFields"].includes("balcony")&&(e.balcony<this.filters.balcony[0]||e.balcony>this.filters.balcony[1]))return!1;if(this.$store.getters["infoFilterFields"].includes("basement")&&(e.basement<this.filters.basement[0]||e.basement>this.filters.basement[1]))return!1;if(this.$store.getters["infoFilterFields"].includes("sale_price")&&(e.sale_price<this.filters.sale_price[0]||e.sale_price>this.filters.sale_price[1]))return!1;if(this.$store.getters["infoFilterFields"].includes("rent_price")&&(e.rent_price<this.filters.rent_price[0]||e.rent_price>this.filters.rent_price[1]))return!1;if(this.$store.getters["infoFilterFields"].includes("net_rent")&&(e.net_rent<this.filters.net_rent[0]||e.net_rent>this.filters.net_rent[1]))return!1;if(this.$store.getters["infoFilterFields"].includes("rent_overheads")&&(e.rent_overheads<this.filters.rent_overheads[0]||e.rent_overheads>this.filters.rent_overheads[1]))return!1;if(this.$store.getters["infoFilterFields"].includes("available_from")){let t=new Date(e.available_from);if(this.filters.available_from&&(t<this.filters.available_from[0]||t>this.filters.available_from[1]))return!1}return(!this.$store.getters["infoFilterFields"].includes("status")||!this.filters.status||e.status===this.filters.status)&&!(this.$store.getters["infoFilterFields"].includes("floorIndex")&&this.filters.floor&&this.filters.floor.length>0&&!this.filters.floor.includes(e.floorIndex))})},SearchIcon(){return S["n"]},floorOptions(){let e=[];return B.a.forEach(this.$store.getters["floors"],(t,o)=>{"undefined"!==typeof B.a.find(t.groups,e=>e.isApartment)&&e.push({value:o,label:t.name})}),e}},methods:{openPopup(e,t,o){"available"!=e.status||"A"===o.target.tagName||o.target.closest("a")||(this.openedDialog=e.propIndex)},highlightApartment(e){this.$store.dispatch("setActiveFloor",e.floorIndex),this.$store.dispatch("selectGroup",{floor:e.floorIndex,group:e.groupIndex})},cellClasses(e,t,o){var r=[];return 0===o&&r.push("-first"),r.push("-cell-"+t),r},formatPrice(e){var t={style:"currency",currency:this.$store.state.info.currency&&this.$store.state.info.currency.length>0?this.$store.state.info.currency:"USD"};return e.toLocaleString(this.$i18nData.locale.replace("_","-"),t)},formatDate(e){return gt()(e).format("LL")},detailsTableData(e){const t=["svg","selected","isApartment","factsheet","registration_url","images","blueprints"];let o=this.$store.getters["infoDetailsFields"];return B()(e).map((e,t)=>({key:t,value:e})).filter(({key:e})=>!t.includes(e)&&o.includes(e)).sortBy(({key:e})=>B.a.indexOf(this.$store.getters["fieldOrder"],e)).value()},reInitImagesSlick(){this.$nextTick(()=>{this.$refs.imagesSlick.reSlick()})},getRowClasses(e){let t=[];return this.$store.state.editor.selectedGroup&&this.$store.state.editor.selectedGroup.floor===e.row.floorIndex&&this.$store.state.editor.selectedGroup.group===e.row.groupIndex&&t.push("-highlight"),"available"!==e.row.status&&t.push("-unavailable"),t},calcSteps(e){const t=e[1]-e[0],o=Math.floor(Math.log10(t))+1,r=Math.pow(10,o-1);return r/100},getColumnNames(e){let t=this.$store.getters["groupFieldNames"][e]?this.$store.getters["groupFieldNames"][e]:e;return t},checkTableOverflow(){const e=this.$refs.infotable.$el.querySelector(".el-scrollbar__wrap");e.scrollWidth>e.clientWidth?this.isTableScrolling=!0:this.isTableScrolling=!1},handleDialogOpen(){const e=document.querySelector("body"),t=document.querySelector("html");e.classList.add("el-popup-parent--hidden"),t.classList.add("el-popup-parent--hidden")},handleDialogClose(){this.openedDialog=null;const e=document.querySelector("body"),t=document.querySelector("html");e.classList.remove("el-popup-parent--hidden"),t.classList.remove("el-popup-parent--hidden")}},mounted(){gt.a.locale(this.$i18nData.langCode),this.$nextTick(()=>{setTimeout(()=>{this.checkTableOverflow()},0)}),window.addEventListener("resize",this.checkTableOverflow)}});o("e581"),o("84cc");const vt=f()(ht,[["render",mt],["__scopeId","data-v-2b8bfa89"]]);var Vt=vt,yt=o("26c2"),kt={mixins:[Object(yt["a"])("appContainer")],name:"App",components:{viewer:k,editor:Oe,info:Vt},data(){return{saveTO:null,preview:!1,breakView:!1}},methods:{save(){clearTimeout(this.saveTO),this.saveTO=setTimeout(()=>{let e=[];this.$eventBus.emit("save",null,this.$store.getters["config"],e)},1e3)},setBreakView(e){this.breakView=e}},computed:{appContainerDimensions(){return[this.appContainerWidth,this.appContainerHeight,this.appContainerX,this.appContainerY]},viewportDimensions(){let e=.4*this.appContainerDimensions[0],t=.9*window.innerHeight;e<450?(e=this.appContainerDimensions[0],this.setBreakView(!0)):this.setBreakView(!1);let o=[...this.$store.getters["viewbox"]];o[3]=parseInt(o[3])+this.$store.getters["levelSpacing"]+this.$store.getters["spaceAbove"];const r=Math.min(e/parseInt(o[2]),t/parseInt(o[3]));return[Math.round(parseInt(o[2])*r),Math.round(parseInt(o[3])*r)]},infoWidth(){return this.breakView?this.appContainerDimensions[0]:this.appContainerDimensions[0]-this.viewportDimensions[0]}},watch:{"$store.state.building":{handler(){this.save()},deep:!0},"$store.state.editor":{handler(){this.save()},deep:!0},"$store.state.info":{handler(){this.save()},deep:!0},preview:{handler(){this.$store.dispatch("setMode",this.preview?"preview":"editor")}},"$store.state.building.mainColor":{handler(e){document.documentElement.style.setProperty("--pmbn-color-primary",e),document.documentElement.style.setProperty("--el-color-primary",e),document.documentElement.style.setProperty("--swiper-navigation-color",e),document.documentElement.style.setProperty("--swiper-pagination-color",e),document.documentElement.style.setProperty("--swiper-theme-color",e)},deep:!1},"$store.state.info.soldStatusRowOpacity":{handler(e){document.documentElement.style.setProperty("--pmbn-sold-status-row-opacity",e/100)},deep:!1}},mounted(){document.documentElement.style.setProperty("--pmbn-color-primary",this.$store.state.building.mainColor),document.documentElement.style.setProperty("--el-color-primary",this.$store.state.building.mainColor),document.documentElement.style.setProperty("--swiper-navigation-color",this.$store.state.building.mainColor),document.documentElement.style.setProperty("--swiper-pagination-color",this.$store.state.building.mainColor),document.documentElement.style.setProperty("--swiper-theme-color",this.$store.state.building.mainColor),document.documentElement.style.setProperty("--pmbn-sold-status-row-opacity",this.$store.state.info.soldStatusRowOpacity/100)}};o("125e");const $t=f()(kt,[["render",i]]);var xt=$t,Ct=o("ec26"),wt=o("6d92"),_t=o.n(wt),Nt=o("5502"),Ft=o("1157"),Bt=o.n(Ft);const St={data:{locale:"en-US"},translations:[]};let Et={};function Dt(e,t=null){let o=Et.translations.find(o=>null===t?o.default===e:o.default===e&&o.context===t);return o?o.translation:e}var Mt={install:e=>{Et=B.a.merge(St,window.pmbn.i18n),e.config.globalProperties.$i18nData=Et.data,e.config.globalProperties.$i18n=Dt}};function Tt(){return Object(Nt["a"])({state:{loaded:!1,mode:"editor",clipboard:null,building:{floors:[],additionalSVG:[],levelSpacing:38,spaceAbove:0,viewbox:[0,0,100,100],mainColor:"#409eff"},editor:{activeTab:"general",activeFloor:0,selectedGroup:null,activeGeneralAccordion:"graphic"},info:{tableColumns:["name","floor"],detailsFields:["name","floor"],groupFieldNames:{},groupFieldValueOverrides:{},filterFields:[],fieldOrder:[],apartmentOrder:[],currency:"",rentPricePeriod:"",soldStatusRowOpacity:50}},mutations:{setLoaded(e){e.loaded=!0},loadBuilding(e,t){e.building=t},loadEditor(e,t){e.editor=t},loadInfo(e,t){e.info=t},setMode(e,t){e.mode=t},setActiveFloor(e,t){e.editor.activeFloor=t},selectGroup(e,t){e.editor.selectedGroup=t},setActiveTab(e,t){e.editor.activeTab=t},copyToClipboard(e,t){e.clipboard=Object(r["toRaw"])(t)},toggleInfoTableColumn(e,t){e.info.tableColumns=B.a.xor(e.info.tableColumns,[t])},toggleInfoDetailsField(e,t){e.info.detailsFields=B.a.xor(e.info.detailsFields,[t])},toggleInfoFilterField(e,t){e.info.filterFields=B.a.xor(e.info.filterFields,[t])},setFieldOrder(e,t){e.info.fieldOrder=t},setApartmentOrder(e,t){e.info.apartmentOrder=t}},actions:{setLoaded(e){e.commit("setLoaded")},loadConfig(e,t){var o,r,l,a;e.dispatch("loadBuilding",null!==(o=t.building)&&void 0!==o?o:{}),e.dispatch("loadEditor",null!==(r=t.editor)&&void 0!==r?r:{}),e.dispatch("loadInfo",null!==(l=t.info)&&void 0!==l?l:{}),e.dispatch("setMode",null!==(a=t.mode)&&void 0!==a?a:"view"),e.dispatch("setLoaded")},loadSVG(e,t){let o=Bt()(t).filter("svg").first(),r="undefined"!==typeof o.attr("viewBox")?o.attr("viewBox").split(" "):[0,0,100,100];r=B.a.map(r,parseFloat);let l={floors:[],additionalSVG:[],levelSpacing:e.state.building&&e.state.building.levelSpacing?e.state.building.levelSpacing:38,viewbox:r};if(o.length>0){var a=0;o.children().each((t,o)=>{if(Bt()(o).is("g")){let r=e.getters["defaultFloor"]();r.name="undefined"!==typeof Bt()(o).attr("id")?Bt()(o).attr("id"):"Floor "+t,e.state.building.floors&&e.state.building.floors[a]&&(r=B.a.merge(r,e.state.building.floors[a]));let i=[];Bt()(o).children().each((o,r)=>{let l=e.getters["defaultGroup"]();l.name="undefined"!==typeof Bt()(r).attr("id")?Bt()(r).attr("id"):"Apartment "+o+" / "+t,e.state.building.floors&&e.state.building.floors[a]&&e.state.building.floors[a].groups[o]&&(l=B.a.merge(l,e.state.building.floors[a].groups[o])),l.svg=Bt()(r).prop("outerHTML"),i.push(l)}),r.groups=i,l.floors.push(r),a++}else l.additionalSVG.push(Bt()(o).prop("outerHTML"))})}e.state.building.floors&&(e.state.building.floors=B.a.slice(e.state.building.floors,0,l.floors.length-1)),e.state.building.additionalSVG&&(e.state.building.additionalSVG=[]),e.dispatch("loadBuilding",l),e.dispatch("loadEditor",{activeFloor:e.state.building.floors.length-1}),e.dispatch("setLoaded")},loadBuilding(e,t){B.a.forEach(t.floors,(o,r)=>{o=B.a.merge(e.getters["defaultFloor"](),o),B.a.forEach(o.groups,(t,r)=>{o.groups[r]=B.a.merge(e.getters["defaultGroup"](),t),o.groups[r].id||(o.groups[r].id=Object(Ct["a"])())}),t.floors[r]=o}),e.commit("loadBuilding",B.a.merge(e.state.building,t))},loadEditor(e,t){e.commit("loadEditor",B.a.merge(e.state.editor,t))},loadInfo(e,t){e.commit("loadInfo",B.a.merge(e.state.info,t));let o=e.getters["groupFields"]();e.state.info.fieldOrder=B.a.uniq(B.a.concat(e.state.info.fieldOrder,o));let r=[];B.a.forEach(e.getters["floors"],e=>{B.a.forEach(e.groups,e=>{e.isApartment&&r.push(e.id)})}),e.state.info.apartmentOrder=B.a.uniq(B.a.concat(e.state.info.apartmentOrder,r)),B.a.isEmpty(e.state.info.groupFieldNames)&&(e.state.info.groupFieldNames={}),B.a.isEmpty(e.state.info.groupFieldValueOverrides)&&(e.state.info.groupFieldValueOverrides={})},setMode(e,t){e.commit("setMode",t)},setActiveFloor(e,t){t=t>=0?t:0,t=t<=e.state.building.floors.length-1?t:e.state.building.floors.length-1,e.commit("setActiveFloor",t)},selectGroup(e,t){e.commit("selectGroup",t)},setActiveTab(e,t){e.commit("setActiveTab",t)},copyToClipboard(e,t){e.commit("copyToClipboard",t)},pasteClipboardToGroup(e,t){const o=["svg","selected"];t&&e.getters["clipboard"]&&"group"===e.getters["clipboard"].type&&(t=B.a.mergeWith(t,e.getters["clipboard"].data,(e,t,r)=>o.includes(r)?e:t))},toggleInfoTableColumn(e,t){e.commit("toggleInfoTableColumn",t)},toggleInfoDetailsField(e,t){e.commit("toggleInfoDetailsField",t)},toggleInfoFilterField(e,t){e.commit("toggleInfoFilterField",t)},setFieldOrder(e,t){e.commit("setFieldOrder",t)},setApartmentOrder(e,t){e.commit("setApartmentOrder",t)}},getters:{loaded(e){return e.loaded},config(e){return{building:Object(r["toRaw"])(e.building),editor:Object(r["toRaw"])(e.editor),info:Object(r["toRaw"])(e.info)}},mode(e){return e.mode},building(e){return e.building},additionalSVG(e){return e.building?e.building.additionalSVG:[]},levelSpacing(e){return e.building?e.building.levelSpacing:0},spaceAbove(e){return e.building?e.building.spaceAbove:0},viewbox(e){return e.building?e.building.viewbox:[0,0,100,100]},svgLoaded(e){let t=!1;return B.a.forEach(e.building.floors,e=>{if(e.groups.length>0)return t=!0,!1}),t},floors(e){return e.building?e.building.floors:[]},floor(e){return t=>e.building?B.a.find(e.building.floors,(e,o)=>o===t):null},defaultFloor(){return()=>({name:"",groups:[],opened:!1,active:!1,passive:!1})},isOpenedFloor(e,t){return o=>{let r=t["activeFloor"],l=t["floor"](o);return!r.passive&&!l.passive&&o>e.editor.activeFloor}},activeFloor(e){return e.building?B.a.find(e.building.floors,(t,o)=>o===e.editor.activeFloor):null},group(e,t){return(e,o)=>{const r=t["floor"](e);return r?B.a.find(r.groups,(e,t)=>t===o):null}},defaultGroup(){return()=>({svg:null,selected:!1,isApartment:!1,name:"",rooms:0,living_area:0,outdoor_types:[],garden:0,terrace:0,balcony:0,basement:0,sale_price:0,rent_price:0,net_rent:0,rent_overheads:0,available_from:null,status:null,registration_url:null,factsheet:null,blueprints:[],images:[]})},groupFieldNames(e){let t={name:Dt("Apartment name"),rooms:Dt("Number of rooms"),living_area:Dt("Living area"),outdoor_types:Dt("Outdoor types"),garden:Dt("Garden"),terrace:Dt("Terrace"),balcony:Dt("Balcony"),basement:Dt("Basement"),sale_price:Dt("Sale price"),rent_price:Dt("Rent price"),net_rent:Dt("Net rent"),rent_overheads:Dt("Overheads"),available_from:Dt("Available from"),status:Dt("Status"),registration_url:Dt("Registration URL"),factsheet:Dt("Fact sheet"),blueprints:Dt("Floor plan"),images:Dt("Apartment images"),floor:Dt("Floor name"),floorIndex:Dt("Floor index")};return B.a.merge(t,B.a.pickBy(e.info.groupFieldNames,e=>!B.a.isEmpty(e)))},groupFields(e,t){return()=>{const e=["svg","selected","isApartment"];let o=B.a.difference(B.a.keys(t["defaultGroup"]()),e);return o.push("floor"),o.push("floorIndex"),o}},groupFieldValueOverride(e){return t=>{var o;return null!==(o=e.info.groupFieldValueOverrides[t])&&void 0!==o?o:null}},sortedGroupFields(e,t){return B.a.sortBy(t["groupFields"](),t=>B.a.indexOf(e.info.fieldOrder,t))},properties(e,t){let o=[],r=0;return B.a.forEach(t["floors"],(e,t)=>{B.a.forEach(e.groups,(l,a)=>{l.isApartment&&(o.push({...l,floor:e.name,floorIndex:t,propIndex:r,groupIndex:a}),r++)})}),B.a.sortBy(o,t=>B.a.indexOf(e.info.apartmentOrder,t.id))},apartmentById(e,t){return e=>{let o=null;return B.a.forEach(t["floors"],t=>{if(B.a.forEach(t.groups,t=>{if(t.id===e)return o=t,!1}),o)return!1}),o}},groupStatuses(e,t){return(e,o)=>{let r=t["groupFieldUsed"]("status"),l={available:e("Available"),sold:e("Sold"),rented:e("Rented"),reserved:e("Reserved")};return o?B.a.pickBy(l,(e,t)=>r.includes(t)):l}},groupOutdoorTypes(e,t){return B.a.uniq(B.a.flatten(t["groupFieldUsed"]("outdoor_types")))},selectedGroup(e,t){return e.editor.selectedGroup?t["group"](e.editor.selectedGroup.floor,e.editor.selectedGroup.group):null},activeTab(e){return e.editor?e.editor.activeTab:"general"},clipboard(e){return e.clipboard},infoTableColumns(e){return B.a.sortBy(e.info.tableColumns,t=>B.a.indexOf(e.info.fieldOrder,t))},infoDetailsFields(e){return B.a.sortBy(e.info.detailsFields,t=>B.a.indexOf(e.info.fieldOrder,t))},infoFilterFields(e){return B.a.sortBy(e.info.filterFields,t=>B.a.indexOf(e.info.fieldOrder,t))},fieldOrder(e){return e.info.fieldOrder},apartmentOrder(e,t){let o=[];B.a.forEach(e.info.apartmentOrder,e=>{let r=t["apartmentById"](e);null!==r&&void 0!==r&&r.isApartment&&o.push(e)});let r=[];return B.a.forEach(t["floors"],e=>{B.a.forEach(e.groups,e=>{e.isApartment&&r.push(e.id)})}),B.a.uniq(B.a.concat(o,r))},groupFieldMinMax(e,t){let o=t["properties"];return e=>B.a.minBy(o,e)&&B.a.maxBy(o,e)?[B.a.minBy(o,e)[e],B.a.maxBy(o,e)[e]]:[0,0]},groupFieldUsed(e,t){let o=t["properties"];return e=>B.a.uniq(B.a.filter(B.a.map(o,e),e=>!B.a.isEmpty(e)))}}})}function At(){return{install:(e,t)=>{e.config.globalProperties.$eventBus=t.eventBus,e.config.globalProperties.$appID=t.id}}}var It=B.a.noConflict();const Gt=document.getElementsByClassName("pmbn-app");window.pmbn={apps:[],i18n:{data:{locale:"en-US"},translations:[]}};const Ut=new Event("pmbn_before_init");window.dispatchEvent(Ut),It.forEach(Gt,e=>{const t=At(),o=_t()(),a=e.getAttribute("data-id")?e.getAttribute("data-id"):Object(Ct["a"])();let i=Object(r["createApp"])(xt).use(Mt);const n=Tt();i.use(n).use(t,{id:a,eventBus:o}).use(l["a"]).mount(e),window.pmbn.apps.push({id:a,el:e,eventBus:o,loadConfig:e=>{n.dispatch("loadConfig",e)}})});const Pt=new Event("pmbn_init");window.dispatchEvent(Pt)},5858:function(e,t,o){},"61a4":function(e,t,o){},72342:function(e,t,o){},"84cc":function(e,t,o){"use strict";o("ebf1")},8828:function(e,t,o){},"8cf8":function(e,t,o){},"98b1":function(e,t,o){"use strict";o("c827")},b9f9:function(e,t,o){"use strict";o("5858")},c249:function(e,t,o){"use strict";o("d8c5")},c4d4:function(e,t,o){},c827:function(e,t,o){},cc5d:function(e,t,o){"use strict";o("8828")},ce2e:function(e,t,o){},d8c5:function(e,t,o){},d97c:function(e,t,o){},e566:function(e,t,o){"use strict";o("f89c")},e581:function(e,t,o){"use strict";o("72342")},ebf1:function(e,t,o){},f89c:function(e,t,o){}});
//# sourceMappingURL=pmbn-app.js.map